<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PHiLIP: Src/tmr.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PHiLIP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tmr_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tmr.c File Reference<div class="ingroups"><a class="el" href="group__periph.html">Periph</a> &#124; <a class="el" href="group__periph.html">Periph</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Controls the timer peripheral.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &quot;stm32f1xx_hal.h&quot;</code><br />
<code>#include &quot;<a class="el" href="PHiLIP__typedef_8h_source.html">PHiLIP_typedef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PHiLIP__defaults_8h_source.html">PHiLIP_defaults.h</a>&quot;</code><br />
<code>#include &quot;port.h&quot;</code><br />
<code>#include &quot;<a class="el" href="gpio_8h_source.html">gpio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trace_8h_source.html">trace.h</a>&quot;</code><br />
<code>#include &quot;tmr.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtmr__dev__t.html">tmr_dev_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parameters for tmr control.  <a href="structtmr__dev__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad842b935941e6dae72a1cf876493fd09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__periph.html#gad842b935941e6dae72a1cf876493fd09">init_dut_ic</a> (<a class="el" href="unionmap__t.html">map_t</a> *map)</td></tr>
<tr class="memdesc:gad842b935941e6dae72a1cf876493fd09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes timer registers and peripheral.  <a href="group__periph.html#gad842b935941e6dae72a1cf876493fd09">More...</a><br /></td></tr>
<tr class="separator:gad842b935941e6dae72a1cf876493fd09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1c1db69e6bd8774bcd6271f186999ac"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__periph.html#gac1c1db69e6bd8774bcd6271f186999ac">init_dut_ic_msp</a> ()</td></tr>
<tr class="memdesc:gac1c1db69e6bd8774bcd6271f186999ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only for use with the STM32xxxx_HAL_Driver. <br /></td></tr>
<tr class="separator:gac1c1db69e6bd8774bcd6271f186999ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f7dc5f1cae5822350ee1db80d3e1de3"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__periph.html#ga3f7dc5f1cae5822350ee1db80d3e1de3">deinit_dut_ic_msp</a> ()</td></tr>
<tr class="memdesc:ga3f7dc5f1cae5822350ee1db80d3e1de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only for use with the STM32xxxx_HAL_Driver. <br /></td></tr>
<tr class="separator:ga3f7dc5f1cae5822350ee1db80d3e1de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d07cb010fb98e1bb97c15f46f455dbf"><td class="memItemLeft" align="right" valign="top">error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__periph.html#ga3d07cb010fb98e1bb97c15f46f455dbf">commit_dut_ic</a> ()</td></tr>
<tr class="memdesc:ga3d07cb010fb98e1bb97c15f46f455dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits the adc registers and executes operations.  <a href="group__periph.html#ga3d07cb010fb98e1bb97c15f46f455dbf">More...</a><br /></td></tr>
<tr class="separator:ga3d07cb010fb98e1bb97c15f46f455dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe62ae73540cf9185e5750aae3e5d45d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__periph.html#gafe62ae73540cf9185e5750aae3e5d45d">poll_dut_ic</a> ()</td></tr>
<tr class="memdesc:gafe62ae73540cf9185e5750aae3e5d45d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polls for high speed input capture values.  <a href="group__periph.html#gafe62ae73540cf9185e5750aae3e5d45d">More...</a><br /></td></tr>
<tr class="separator:gafe62ae73540cf9185e5750aae3e5d45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada75b4d3900976582cd60628caa2ec85"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__periph.html#gada75b4d3900976582cd60628caa2ec85">update_dut_ic_inputs</a> ()</td></tr>
<tr class="memdesc:gada75b4d3900976582cd60628caa2ec85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the dut_ic input level. <br /></td></tr>
<tr class="separator:gada75b4d3900976582cd60628caa2ec85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae681a3e8dfe92475e63f9527e5cd60e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae681a3e8dfe92475e63f9527e5cd60e5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmr_8c.html#ae681a3e8dfe92475e63f9527e5cd60e5">DUT_IC_DMA_INT</a> ()</td></tr>
<tr class="memdesc:ae681a3e8dfe92475e63f9527e5cd60e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles dut_ic dma event interrupt. <br /></td></tr>
<tr class="separator:ae681a3e8dfe92475e63f9527e5cd60e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14a5fa297fce957786998132700776d1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14a5fa297fce957786998132700776d1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmr_8c.html#a14a5fa297fce957786998132700776d1">DUT_IC_GPIO_INT</a> ()</td></tr>
<tr class="memdesc:a14a5fa297fce957786998132700776d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger on edge, must be quick and save counter value in buffer. <br /></td></tr>
<tr class="separator:a14a5fa297fce957786998132700776d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Controls the timer peripheral. </p>
<dl class="section author"><dt>Author</dt><dd>Kevin Weiss </dd></dl>
<dl class="section date"><dt>Date</dt><dd>03.03.2020</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Kevin Weiss </dd></dl>
<dl class="section date"><dt>Date</dt><dd>03.03.2020 This module requires very low jitter since the precision is 14ns. In interrupt mode events can occur as fast as 1us apart, however, time must be allowed for the buffer to be processed. With the DMA it appears that events can still be caught up to 200ns. However the buffer still must not overflow too quickly</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Testing shows the a 150us wait must happen for every 255 events to prevent any data corruption. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li><li class="navelem"><a class="el" href="tmr_8c.html">tmr.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
